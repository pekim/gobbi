<!DOCTYPE html>
<html>
    <head>
        <title>Build tags - gobbi</title>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

        <title>Introduction :: gobbi</title>

        <link rel="shortcut icon" href="/gobbi/images/favicon.png" type="image/x-icon" />
    </head>

    <body>
        <h1>Build tags</h1>

        <p>gobbi uses Go
<a href="https://golang.org/pkg/go/build/#hdr-Build_Constraints">build tags</a>
to allow targetting of specific library versions.
This means that when using Go build tools
(such as <code>go build</code> and <code>go run</code>)
to build a gobbi application,
use of the <code>-tags</code> flag will usually be necessary.</p>

<p>See
<a href="https://dave.cheney.net/2013/10/12/how-to-use-conditional-compilation-with-the-go-build-tool">How to use conditional compilation with the go build tool</a>
for more background about build tags.</p>

<h2>no tags</h2>

<p>If a gobbi application is built with no tags specified,
the only apis available will be those present in
all version of the various gnome libraries.</p>

<h2>tags targetting versions</h2>

<p>To use an api that is only available from a specific
version onwards,
use a tag constructed from the library name and the version.</p>

<p>For example
<a href="https://developer.gnome.org/gtk3/stable/GtkBuilder.html#gtk-builder-new-from-file">gtk_builder_new_from_file</a>
is only available from gtk 3.10 onwards.
So to use it, a tag specifying 3.10 (or a later version)
is required.</p>

<pre><code>go build -tags gtk_3.10 my_app.go
</code></pre>

<h2>typical tags</h2>

<p>If targetting Ubuntu 16.04 (Xenial Xerus) or later,
the following tags would be a good starting point.</p>

<pre><code>go build -tags &quot; \
    glib_2.48 \
    gdk_3.4 \
    gdkpixbuf_2.32 \
    gio_2.32 \
    gtk_3.18&quot; \
  my_app.go
</code></pre>

<h2>editors &amp; IDEs</h2>

<p>Editors and IDE can provide better completion
and error feedback if they are aware of the build
tags that an application is to be built with.</p>

<h3>vs code</h3>

<p>The relevant setting is <code>Go: Build Tags</code>.</p>

<h3>goland</h3>

<p>In the <code>Settings...</code> dialog, the relevant setting can
be found under
- Go
  - Vendoring &amp; Build Tags
    - Custom tags</p>

    </body>
</html>
